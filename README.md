# 高级VLC播放器 v5.0

一个功能强大的视频播放器，支持自动循环播放、在线视频获取、播放列表管理等功能。

## 主要功能

### 🎬 播放控制
- **自动循环播放**：支持单视频循环和播放列表循环
- **随机播放**：随机选择播放列表中的视频
- **进度控制**：可拖拽进度条跳转到任意位置
- **音量控制**：实时调节播放音量
- **全屏支持**：F11键切换全屏模式

### 📋 播放列表管理
- **在线视频获取**：自动从API获取视频
- **本地视频支持**：可添加本地视频文件
- **播放列表保存/加载**：支持JSON格式的播放列表
- **播放历史记录**：自动记录播放历史
- **收藏夹功能**：收藏喜欢的视频

### 🎮 快捷键
- `空格键`：播放/暂停
- `←`：上一个视频
- `→`：下一个视频
- `F11`：切换全屏
- `ESC`：退出全屏

### 🔧 高级功能
- **下载管理**：一键下载当前视频
- **工具提示**：鼠标悬停显示按钮说明
- **状态显示**：实时显示播放状态和进度
- **错误处理**：完善的异常处理机制

## 安装要求

```bash
pip install python-vlc requests tkinter
```

## 使用方法

### 基本播放
1. 运行程序后会自动获取第一个视频并开始播放
2. 使用播放控制按钮或快捷键控制播放
3. 视频播放结束后会自动播放下一个

### 循环播放设置
- **单视频循环**：勾选后当前视频会重复播放
- **播放列表循环**：勾选后播放列表会循环播放
- **随机播放**：勾选后随机选择播放列表中的视频

### 播放列表操作
- **双击播放列表**：直接播放选中的视频
- **清空列表**：清空当前播放列表
- **刷新**：重新获取在线视频

### 文件操作
- **打开本地视频**：从文件菜单选择本地视频文件
- **保存播放列表**：将当前播放列表保存为JSON文件
- **加载播放列表**：从JSON文件加载播放列表

### 下载功能
- 点击下载按钮下载当前播放的视频
- 下载的文件保存在 `downloaded_videos` 目录中
- 支持从工具菜单打开下载目录

## 文件结构

```
项目目录/
├── 随机mn视频5.0.py    # 主程序文件
├── 随机mn视频4.0.py    # 优化版本
├── player_data.json    # 播放历史和收藏数据
├── downloaded_videos/  # 下载目录
└── README.md          # 说明文档
```

## 配置说明

### 播放设置
- `loop_single`：单视频循环（默认：关闭）
- `loop_playlist`：播放列表循环（默认：开启）
- `auto_play`：自动播放（默认：开启）
- `shuffle_mode`：随机播放（默认：关闭）

### API配置
当前使用API：`https://api.kuleu.com/api/MP4_xiaojiejie?type=json`

如需更换API，请修改 `fetch_video_urls()` 方法中的URL。

## 故障排除

### 常见问题

1. **VLC未安装**
   - 确保系统已安装VLC媒体播放器
   - 下载地址：https://www.videolan.org/vlc/

2. **网络连接问题**
   - 检查网络连接
   - 确认API地址可访问

3. **播放失败**
   - 检查视频URL是否有效
   - 尝试刷新获取新视频

4. **界面显示异常**
   - 确保Python版本 >= 3.6
   - 检查tkinter是否正确安装

### 错误日志
程序会在状态栏显示错误信息，常见错误：
- "获取视频失败"：网络或API问题
- "播放失败"：视频文件损坏或格式不支持
- "下载失败"：网络连接问题或文件过大

## 更新日志

### v5.0 (最新版本)
- ✨ 新增播放历史记录功能
- ✨ 新增收藏夹功能
- ✨ 新增随机播放模式
- ✨ 新增全屏支持
- ✨ 新增播放列表管理
- ✨ 新增本地视频支持
- ✨ 新增快捷键支持
- ✨ 新增工具提示
- ✨ 优化界面布局
- ✨ 完善错误处理

### v4.0
- ✨ 新增自动循环播放功能
- ✨ 新增进度条和时间显示
- ✨ 新增状态栏
- ✨ 优化用户界面
- ✨ 改进错误处理

### v3.0
- ✨ 新增进度条控制
- ✨ 新增时间显示
- ✨ 优化播放控制

## 技术特性

- **多线程支持**：下载和播放分离，避免界面卡顿
- **内存管理**：自动清理播放历史，防止内存泄漏
- **数据持久化**：自动保存播放历史和收藏数据
- **跨平台兼容**：支持Windows、macOS、Linux
- **模块化设计**：代码结构清晰，易于扩展

## 许可证

本项目仅供学习和个人使用，请遵守相关法律法规。

## 联系方式

如有问题或建议，请通过以下方式联系：
- 提交Issue
- 发送邮件
- 在线讨论

---

**享受您的视频播放体验！** 🎉 